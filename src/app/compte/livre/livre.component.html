<section class="border border-info rounded my-2">
     <div class="input-group">
          <button class="btn btn-info btn-sm"
                  (click)="lineClicked()"
                  title="Ajout d'une nouvelle ligne">
               <i class="bi bi-node-plus pe-2"></i>
               <span>Nouvelle ligne</span>
          </button>
          <button class="btn btn-danger btn-sm"
                  (click)="supprimerLigne()"
                  title="Supprimer la ligne">
               <i class="bi bi-node-minus pe-2"></i>
               <span>Supprimer</span>
          </button>
     </div>
     <c-ligne-edition (ligneEvent)="selectedLineHandler($event)" [compteId]="compteId"></c-ligne-edition>
</section>
<section class="row small">
     <div class="col header">Date</div>
     <div class="col-4 header">Tier</div>
     <div class="col-2 header">Catégorie</div>
     <div class="col-2 header">Note</div>
     <div class="col header">Montant</div>
     <div class="col header">Rapproché</div>
     <div class="col header">Hors budget</div>
     <div class="w-100"></div>
     <ng-container *ngFor="let ligne of lignes">
          <ng-template *ngTemplateOutlet="LigneRef; context: {$implicit: {l:ligne}}">
          </ng-template>
     </ng-container>
</section>

<ng-template #LigneRef
             let-context>
     <div [class.selected-line]="context.l === selectedLine"
          class="line date col"
          (click)="lineClicked(context.l)">{{context.l.date | date: 'dd/MM/YY'}}</div>
     <div [class.selected-line]="context.l === selectedLine"
          class="line col-4">{{context.l.tier.name}}</div>
     <div [class.selected-line]="context.l === selectedLine"
          class="line col-2">{{context.l.categorie.name}}</div>
     <div [class.selected-line]="context.l === selectedLine"
          class="line col-2">{{context.l.note}}</div>
     <div [class.selected-line]="context.l === selectedLine"
          class="line montant col">{{context.l.valeur | number:'1.2-2':'fr'}} €</div>
     <div [class.selected-line]="context.l === selectedLine"
          class="line col">{{context.l.rapprochement}}</div>
     <div [class.selected-line]="context.l === selectedLine"
          class="line col">{{context.l.isHorsBudget}}</div>
     <div class="w-100"></div>
</ng-template>